<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title>Gu√≠a de usuario</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Gu√≠a de usuario</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_primeros_pasos">1. Primeros pasos</h2>
<div class="sectionbody">
<div class="paragraph"><p>Tras una instalaci√≥n limpia del WAT se habr√° creado un administrador de poderes totales. Sus credenciales son:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Usuario: admin
Contrase√±a: admin</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/doc_images/icons/tip.png" alt="Tip" />
</td>
<td class="content">Si solo vamos a tener un administrador del WAT con <em>admin</em> nos valdr√°. Si, sin embargo, queremos tener diferentes administradores podemos crearlos con <em>admin</em> con la posibilidad de otorgarles diferentes permisos.</td>
</tr></table>
</div>
<div class="paragraph"><p><strong>Iniciaremos sesi√≥n con estas credenciales</strong>.</p></div>
<div class="paragraph"><p>El primer paso que debemos hacer, por seguridad, es <strong>cambiar la contrase√±a</strong> de nuestra cuenta de administrador.</p></div>
<div class="sect2">
<h3 id="_cambiar_la_contrase√±a">1.1. Cambiar la contrase√±a</h3>
<div class="paragraph"><p>Para cambiar la contrase√±a iremos al <strong>√°rea de nuestro administrador</strong>, situada en el <strong>men√∫ general</strong> arriba a la derecha.</p></div>
<div class="ulist"><ul>
<li>
<p>
Haremos click en la opci√≥n que lleva el nombre del administrador (en este caso <em>admin</em>) o pasaremos el rat√≥n por encima y del men√∫ desplegable elegiremos la opci√≥n <em>Perfil</em>.
</p>
</li>
<li>
<p>
Dentro de nuestro perfil podremos dar al bot√≥n de edici√≥n situado en la parte derecha de la cabecera bajo el men√∫.
</p>
</li>
<li>
<p>
Se abrir√° un formulario de edici√≥n.
</p>
</li>
<li>
<p>
Haremos click en cambiar contrase√±a y escogeremos nuestra propia contrase√±a.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_entorno_inicial">1.2. Entorno inicial</h3>
<div class="paragraph"><p>La primera pantalla tras iniciar sesi√≥n corresponde a un <strong>panel con gr√°ficas y estad√≠sticas</strong> del sistema. La primera vez, al ser un sistema nuevo, nos aparecer√°n todos los <strong>indicadores vac√≠os</strong>.</p></div>
<div class="paragraph"><p>El men√∫ que nos aparecer√° cargado por defecto ser√° el de la Plataforma QVD, que es el eje principal de la administraci√≥n del QVD. El men√∫ contiene las secciones: <em>usuarios, m√°quinas virtuales, nodos, OSFs e im√°genes de disco</em>.</p></div>
<div class="paragraph"><p>Navegando por las diferentes secciones de la plataforma veremos que no hay nada en ninguna de ellas. Todos los listados aparecer√°n vac√≠os.</p></div>
<div class="paragraph"><p>Desde el men√∫ general (arriba a la derecha) podremos acceder a otras partes del WAT que podremos investigar.</p></div>
<div class="paragraph"><p>La parte de gesti√≥n del WAT si que contendr√° cosas, ya que para que un administrador pueda conectarse al WAT, son imprescindibles una serie de elementos como son la propia cuenta del administrador y al menos un rol que le proporcione permisos.</p></div>
<div class="paragraph"><p>En las diferentes gu√≠as iremos movi√©ndonos por estas secciones para los diferentes cometidos que se propongan, por lo cual conviene familiarizarnos con el entorno.</p></div>
<div class="paragraph"><p>Otro aspecto que nos conviene conocer es la dependencia entre los elementos que podemos crear para no dar palos de ciego al intentar crear unos sin tener los que sean necesarios, etc.</p></div>
</div>
<div class="sect2">
<h3 id="_dependencias_entre_elementos_de_qvd">1.3. Dependencias entre elementos de QVD</h3>
<div class="paragraph"><p>Algunos elementos de QVD tienen dependencia de otros:</p></div>
<div class="ulist"><ul>
<li>
<p>
Una imagen de disco pertenece a un OSF.
</p>
</li>
<li>
<p>
Las m√°quinas virtuales est√°n asociadas a un usuario.
</p>
</li>
<li>
<p>
Las m√°quinas virtuales utilizan una imagen de disco.
</p>
</li>
<li>
<p>
Las m√°quinas virtuales arrancar√°n en un nodo.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Por lo tanto, deberemos seguir una secuencia l√≥gica para crear los elementos.</p></div>
<div class="paragraph"><p>Lo veremos en el siguiente <strong>√°rbol de dependencias</strong> donde <strong>cada elemento tiene como hijo otros elementos necesarios para existir</strong>.</p></div>
<div class="ulist"><ul>
<li>
<p>
M√°quina virtual
</p>
<div class="ulist"><ul>
<li>
<p>
Nodo(*)
</p>
</li>
<li>
<p>
Usuario
</p>
</li>
<li>
<p>
Imagen de disco
</p>
<div class="ulist"><ul>
<li>
<p>
OSF
</p>
</li>
</ul></div>
</li>
</ul></div>
</li>
</ul></div>
<div class="openblock">
<div class="content">
<div class="literalblock">
<div class="content">
<pre><code>(*) Tener al menos un Nodo no es necesario para la creaci√≥n de la m√°quina virtual pero s√≠ para poder arrancarla.</code></pre>
</div></div>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proceso_qvd_completo">2. Proceso QVD completo</h2>
<div class="sectionbody">
<div class="paragraph"><p>Aprenderemos los pasos para realizar el proceso completo de la creaci√≥n de una m√°quina virtual y dejarla a punto para ser utilizada.</p></div>
<div class="paragraph"><p>Las m√°quinas virtuales utilizan otros elementos, que deberemos crear antes en cierto orden. Para saber m√°s sobre este orden veremos la secci√≥n del manual <em>Dependencias entre elementos de QVD</em>.</p></div>
<div class="paragraph"><p>Atendiendo a esto realizaremos los siguientes pasos cuyo orden puede ser ligeramente alterado siempre que respetemos las dependencias:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
<strong>Creaci√≥n de un Nodo</strong>
</p>
</li>
<li>
<p>
<strong>Creaci√≥n de un OSF</strong>
</p>
</li>
<li>
<p>
<strong>Creaci√≥n de una imagen de disco</strong>
</p>
</li>
<li>
<p>
<strong>Creaci√≥n de un usuario</strong>
</p>
</li>
<li>
<p>
<strong>Creaci√≥n de una m√°quina virtual</strong>
</p>
</li>
</ol></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/doc_images/icons/note.png" alt="Note" />
</td>
<td class="content">Las secciones utilizadas en este apartado se describen detalladamente en el apartado <em>Plataforma</em> de la gu√≠a <em>El WAT paso a paso</em>.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/doc_images/icons/warning.png" alt="Warning" />
</td>
<td class="content">La cuenta de administrador que utilicemos en el WAT para llevar a cabo las siguientes acciones deber√° tener los privilegios necesarios. Si no se tuvieran todos, es posible que alguna opci√≥n o secci√≥n no est√© disponible.</td>
</tr></table>
</div>
<div class="sect2">
<h3 id="_creaci√≥n_de_un_nodo">2.1. Creaci√≥n de un Nodo</h3>
<div class="paragraph"><p>Un nodo en el WAT corresponde con un <em>servidor QVD</em>, por lo cual tendremos que tener configurado y corriendo un servidor QVD.</p></div>
<div class="paragraph"><p>Adem√°s debe ser <em>accesible</em> y debemos <em>conocer su direcci√≥n IP</em>.</p></div>
<div class="paragraph"><p>Para crear un nodo seguiremos los siguientes pasos:</p></div>
<div class="ulist"><ul>
<li>
<p>
Nos situaremos en la <em>secci√≥n Plataforma</em>. Esta es la secci√≥n activa por defecto tras iniciar sesi√≥n.
</p>
</li>
<li>
<p>
Accederemos al <em>apartado Nodos del men√∫</em>.
</p>
</li>
<li>
<p>
Haremos click en el bot√≥n <em>Nuevo nodo</em>.
</p>
</li>
<li>
<p>
Rellenaremos el formulario de creaci√≥n.
</p>
<div class="ulist"><ul>
<li>
<p>
Asignaremos un <em>nombre</em> al nodo.
</p>
</li>
<li>
<p>
Asociaremos la <em>direcci√≥n IP</em> del servidor QVD.
</p>
</li>
<li>
<p>
Opcionalmente podremos crearle <em>otras propiedades</em> al nodo para gesti√≥n interna de nuestros scripts o simplemente a√±adir informaci√≥n.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Comprobaremos que el nodo se ha creado correctamente viendo que aparece en la vista listado.
</p>
</li>
<li>
<p>
Una vez creado, deberemos comprobar que el nodo se encuentra en el estado <em>Corriendo</em>.
</p>
<div class="ulist"><ul>
<li>
<p>
<em>Desde la vista listado</em>: Aparecer√° un icono de play en la columna informativa.
</p>
</li>
<li>
<p>
<em>Desde la vista detalle</em> haciendo click en el nombre del nodo en la vista listado: Entre sus atributos aparece el estado del nodo.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_creaci√≥n_de_un_osf">2.2. Creaci√≥n de un OSF</h3>
<div class="paragraph"><p>Los OSFs son la forma de agrupar las im√°genes de disco en QVD.</p></div>
<div class="paragraph"><p>Por ello, al menos habr√° que tener uno para crear una imagen de disco.</p></div>
<div class="paragraph"><p>Adem√°s de agruparlas definen ciertos par√°metros en su ejecuci√≥n, como la memoria o el almacenamiento de usuario.</p></div>
<div class="paragraph"><p>Para crear un OSF seguiremos los siguientes pasos:</p></div>
<div class="ulist"><ul>
<li>
<p>
Nos situaremos en la <em>secci√≥n Plataforma</em>. Esta es la secci√≥n activa por defecto tras iniciar sesi√≥n.
</p>
</li>
<li>
<p>
Accederemos al <em>apartado OS Flavours del men√∫</em>.
</p>
</li>
<li>
<p>
Haremos click en el bot√≥n <em>Nuevo OS Flavour</em>.
</p>
</li>
<li>
<p>
Rellenaremos el formulario de creaci√≥n.
</p>
<div class="ulist"><ul>
<li>
<p>
Asignaremos un <em>nombre</em> al OSF.
</p>
</li>
<li>
<p>
Definiremos la <em>memoria</em> que dispondr√°n las im√°genes asociadas a este OSF. Si dejamos en blanco este campo se asignar√°n por defecto 256 MB.
</p>
</li>
<li>
<p>
Asignaremos <em>una cuota de almacenamiento de usuario</em> para las im√°genes asociadas a este OSF. Si no queremos disponer de esta caracter√≠stica basta con dejar este campo a 0.
</p>
</li>
<li>
<p>
Opcionalmente podremos crearle <em>otras propiedades</em> al OSF para gesti√≥n interna de nuestros scripts o simplemente a√±adir informaci√≥n.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Comprobaremos que el OSF se ha creado correctamente viendo que aparece en la vista listado.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_creaci√≥n_de_una_imagen_de_disco">2.3. Creaci√≥n de una imagen de disco</h3>
<div class="paragraph"><p>La creaci√≥n de las im√°genes de disco que ser√°n montadas por QVD se realiza en dos partes:</p></div>
<div class="ulist"><ul>
<li>
<p>
La subida de la imagen al servidor del WAT.
</p>
</li>
<li>
<p>
La creaci√≥n de la imagen en el WAT seleccionando una imagen de entre las subidas.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Uniendo estos dos pasos, deberemos seguir los siguientes pasos:</p></div>
<div class="ulist"><ul>
<li>
<p>
Subir, utilizando scp o cualquier otro m√©todo v√°lido, la imagen que deseemeos al directorio <em>staging</em> del servidor del WAT. Las im√°genes de este directorio ser√°n las seleccionables en el proceso de creaci√≥n desde el WAT.
</p>
</li>
<li>
<p>
Nos situaremos en la <em>secci√≥n Plataforma</em>. Esta es la secci√≥n activa por defecto tras iniciar sesi√≥n.
</p>
</li>
<li>
<p>
Accederemos al <em>apartado Im√°genes de disco del men√∫</em>.
</p>
</li>
<li>
<p>
Haremos click en el bot√≥n <em>Nueva Imagen de disco</em>.
</p>
</li>
<li>
<p>
Rellenaremos el formulario de creaci√≥n.
</p>
<div class="ulist"><ul>
<li>
<p>
Seleccionaremos <em>la imagen de disco</em>. En este men√∫ desplegable aparecer√°n las im√°genes previamente subidas al directorio <em>staging</em> del servidor del WAT.
</p>
</li>
<li>
<p>
Podemos definir una <em>versi√≥n de la imagen</em>. Si dejamos este campo en blanco se generar√° una versi√≥n autom√°tica basada en la fecha de creaci√≥n (Ej.: 2015-05-03-000).
</p>
</li>
<li>
<p>
Seleccionamos el <em>OSF</em> al que se asociar√° la imagen.
</p>
</li>
<li>
<p>
Se puede definir que la imagen sea la <em>imagen por defecto</em> del OSF. Si es la primera imagen que se crea en un OSF, este campo no tendr√° relevancia, ya que si solo hay una imagen en un OSF, √©sta ser√° la imagen por defecto.
</p>
</li>
<li>
<p>
Opcionalmente se le pueden asignar <em>tags</em> a la imagen para poder identificarla desde el gestor de m√°quinas virtuales. Estos tags son √∫nicos por OSF. Si asignamos un tag que ya tiene otra imagen del mismo OSF, el tag ser√° cambiado de imagen, evitando la duplicidad.
</p>
</li>
<li>
<p>
Opcionalmente podremos crearle <em>otras propiedades</em> a la imagen para gesti√≥n interna de nuestros scripts o simplemente a√±adir informaci√≥n.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Comprobaremos que la imagen se ha creado correctamente viendo que aparece en la vista listado.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_creaci√≥n_de_un_usuario">2.4. Creaci√≥n de un usuario</h3>
<div class="paragraph"><p>Toda m√°quina virtual estar√° asignada a un usuario, por lo que tendremos que tener al menos uno en el sistema.</p></div>
<div class="paragraph"><p>Para crear un usuario seguiremos los siguientes pasos:</p></div>
<div class="ulist"><ul>
<li>
<p>
Nos situaremos en la <em>secci√≥n Plataforma</em>. Esta es la secci√≥n activa por defecto tras iniciar sesi√≥n.
</p>
</li>
<li>
<p>
Accederemos al <em>apartado Usuarios del men√∫</em>.
</p>
</li>
<li>
<p>
Haremos click en el bot√≥n <em>Nuevo Usuario</em>.
</p>
</li>
<li>
<p>
Rellenaremos el formulario de creaci√≥n.
</p>
<div class="ulist"><ul>
<li>
<p>
Asignaremos un <em>nombre</em> al Usuario. Este nombre ser√° √∫nico en el sistema.
</p>
</li>
<li>
<p>
Le asignaremos una contrase√±a. Esta contrase√±a ser√° la que el usuario utilice para conectarse a sus m√°quinas virtuales.
</p>
</li>
<li>
<p>
Opcionalmente podremos crearle <em>otras propiedades</em> al OSF para gesti√≥n interna de nuestros scripts o simplemente a√±adir informaci√≥n.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Comprobaremos que el usuario se ha creado correctamente viendo que aparece en la vista listado.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_creaci√≥n_de_una_m√°quina_virtual">2.5. Creaci√≥n de una m√°quina virtual</h3>
<div class="paragraph"><p>Teniendo ya creado al menos un usuario y una imagen de disco, ya es posible crear una m√°quina virtual.</p></div>
<div class="paragraph"><p>La creaci√≥n de m√°quinas virtuales se puede llevar a cabo desde dos pantallas:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Desde la vista listado de m√°quinas virtuales
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Nos situaremos en la <em>secci√≥n Plataforma</em>. Esta es la secci√≥n activa por defecto tras iniciar sesi√≥n.
</p>
</li>
<li>
<p>
Accederemos al <em>apartado M√°quinas virtuales del men√∫</em>.
</p>
</li>
<li>
<p>
Haremos click en el bot√≥n <em>Nueva M√°quina virtual</em>.
</p>
</li>
<li>
<p>
Rellenaremos el formulario de creaci√≥n.
</p>
<div class="ulist"><ul>
<li>
<p>
Asignaremos un <em>nombre</em> a la m√°quina virtual.
</p>
</li>
<li>
<p>
Escogeremos el <em>usuario</em> al que queremos asignar la m√°quina virtual. Este dato no podr√° ser cambiado m√°s adelante.
</p>
</li>
<li>
<p>
Escogeremos el <em>OSF</em> que deseemos. Este dato no podr√° ser cambiado m√°s adelante.
</p>
</li>
<li>
<p>
Escogeremos el <em>tag de la imagen</em> que queremos usar en la m√°quina virtual. En este control se encontrar√°n las versiones y tags de las im√°genes pertenecientes al OSF seleccionado en el control anterior del formulario, as√≠ como los tags especiales <em>head</em> y <em>default</em> que servir√°n para utilizar la √∫ltima imagen creada del OSF y la establecida como imagen por defecto en el OSF respectivamente.
</p>
</li>
<li>
<p>
Opcionalmente podremos crearle <em>otras propiedades</em> a la M√°quina virtual para gesti√≥n interna de nuestros scripts o simplemente a√±adir informaci√≥n.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Comprobaremos que la m√°quina virtual se ha creado correctamente viendo que aparece en la vista listado.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
Desde la vista detalle de un usuario
</dt>
<dd>
<div class="ulist"><ul>
<li>
<p>
Nos situaremos en la <em>secci√≥n Plataforma</em>. Esta es la secci√≥n activa por defecto tras iniciar sesi√≥n.
</p>
</li>
<li>
<p>
Accederemos al <em>apartado Usuarios del men√∫</em>.
</p>
</li>
<li>
<p>
Escogemos el usuario al que queremos asociar la nueva m√°quina virtual y hacemos click en su nombre para acceder a su vista detalle.
</p>
</li>
<li>
<p>
En la parte derecha de la vista, encontramos un cuadro con las m√°quinas virtuales asociadas al usuario. Haremos click en el bot√≥n <em>Nueva M√°quina virtual</em> situado en ese cuadro.
</p>
</li>
<li>
<p>
Rellenaremos el formulario de creaci√≥n.
</p>
<div class="ulist"><ul>
<li>
<p>
Asignaremos un <em>nombre</em> a la m√°quina virtual.
</p>
</li>
<li>
<p>
Escogeremos el <em>OSF</em> que deseemos. Este dato no podr√° ser cambiado m√°s adelante.
</p>
</li>
<li>
<p>
Escogeremos el <em>tag de la imagen</em> que queremos usar en la m√°quina virtual. En este control se encontrar√°n las versiones y tags de las im√°genes pertenecientes al OSF seleccionado en el control anterior del formulario, as√≠ como los tags especiales <em>head</em> y <em>default</em> que servir√°n para utilizar la √∫ltima imagen creada del OSF y la establecida como imagen por defecto en el OSF respectivamente.
</p>
</li>
<li>
<p>
Opcionalmente podremos crearle <em>otras propiedades</em> a la M√°quina virtual para gesti√≥n interna de nuestros scripts o simplemente a√±adir informaci√≥n.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Comprobaremos que la m√°quina virtual se ha creado correctamente viendo que aparece en el cuadro de m√°quinas virtuales asociadas al usuario.
</p>
</li>
</ul></div>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_arrancado_de_una_m√°quina_virtual">2.6. Arrancado de una m√°quina virtual</h3>
<div class="paragraph"><p>Una vez creada la m√°quina virtual, necesitamos arrancarla para que el usuario se pueda conectar a ella.</p></div>
<div class="paragraph"><p>Una m√°quina virtual se puede arrancar desde dos pantallas:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Desde la vista detalle de la m√°quina virtual
</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Los pasos son:</p></div>
<div class="ulist"><ul>
<li>
<p>
Nos situaremos en la <em>secci√≥n Plataforma</em>. Esta es la secci√≥n activa por defecto tras iniciar sesi√≥n.
</p>
</li>
<li>
<p>
Accederemos al <em>apartado M√°quinas virtuales del men√∫</em>.
</p>
</li>
<li>
<p>
Escogemos la m√°quina virtual que queremos arrancar y hacemos click en su nombre para acceder a su vista detalle.
</p>
</li>
<li>
<p>
En la parte derecha localizamos el panel de estado de ejecuci√≥n.
</p>
</li>
<li>
<p>
Hacemos click en el bot√≥n de arrancar la m√°quina virtual situado a la derecha del panel de estado de ejecuci√≥n.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Observamos como el panel de estado de ejecuci√≥n cambia de <em>Detenido</em> a <em>Arrancando</em>.</p></div>
<div class="paragraph"><p>Este proceso <em>puede tardar</em> en completarse, <em>especialmente si es la primera vez</em> que arrancamos una m√°quina.</p></div>
<div class="paragraph"><p>Cuando el proceso acabe, el panel de estado de ejecuci√≥n cambiar√° mostrando que la m√°quina est√° corriendo y el nombre del Nodo donde corre. Adem√°s se podr√°n desplegar los par√°metros de ejecuci√≥n. Estos valores, como la direcci√≥n IP o la imagen de disco utilizadas, no cambiar√°n mientras la m√°quina est√© en ejecuci√≥n aunque se editen dichos valores en la m√°quina virtual.</p></div>
</div></div>
</dd>
<dt class="hdlist1">
Desde la vista listado de m√°quinas virtuales
</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Esta v√≠a permite arrancar varias m√°quinas virtuales a la vez, aunque en este caso lo utilizaremos como un m√©todo c√≥modo de arrancar una sola m√°quina virtual.</p></div>
<div class="paragraph"><p>Los pasos son:</p></div>
<div class="ulist"><ul>
<li>
<p>
Nos situaremos en la <em>secci√≥n Plataforma</em>. Esta es la secci√≥n activa por defecto tras iniciar sesi√≥n.
</p>
</li>
<li>
<p>
Accederemos al <em>apartado M√°quinas virtuales del men√∫</em>.
</p>
</li>
<li>
<p>
Seleccionaremos la m√°quina virtual que queramos arrancar marcando la casilla de verificaci√≥n correspondiente de la primera columna en la lista.
</p>
</li>
<li>
<p>
Bajo la lista de m√°quinas virtuales, en el control de acciones sobre elementos seleccionados, escogemos <em>Arrancar</em>.
</p>
</li>
<li>
<p>
Hacemos click en el bot√≥n <em>Aplicar</em>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Observarmos como, en la columna informativa del elemento seleccionado, cambia el icono de stop a un icono animado que nos indica que la m√°quina est√° en proceso de arrancado. Si se encuentra visibe la columna con el Nodo asociado a la m√°quina, esta cambiar√° en este momento mostrando el Nodo donde la m√°quina est√° arrancando.</p></div>
<div class="paragraph"><p>Este proceso <em>puede tardar</em> en completarse, <em>especialmente si es la primera vez</em> que arrancamos una m√°quina.</p></div>
<div class="paragraph"><p>Cuando el proceso acabe, el icono cambiar√° a un icono de play, que nos indicar√° que la m√°quina virtual ha arrancado.</p></div>
<div class="paragraph"><p>Si en vez de el icono de play, vuelve a aparecer el icono de stop, significar√° que ha habido alg√∫n problema con el arrancado de la m√°quina y se ha detenido. Esto puede suceder por m√∫ltiples causas, y habr√° que investigar en el servidor de QVD lo sucedido.</p></div>
</div></div>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_conexi√≥n_del_usuario">2.7. Conexi√≥n del usuario</h3>
<div class="paragraph"><p>Una vez tengamos la m√°quina virtual arrancada, el usuario ya podr√° conectarse a ella.</p></div>
<div class="paragraph"><p>Para ello utilizar√° el cliente de QVD y se conectar√° utilizando la direcci√≥n del servidor y el usuario/contrase√±a que se le asignaron desde el WAT.</p></div>
<div class="paragraph"><p>Cuando el cliente est√° conectado, esto se refleja en las vistas listado y detalle de las m√°quinas virtuales.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_actualizaci√≥n_de_imagen">3. Actualizaci√≥n de imagen</h2>
<div class="sectionbody">
<div class="paragraph"><p>Veremos c√≥mo se actualiza la imagen utilizada por una m√°quina virtual.</p></div>
<div class="paragraph"><p>El proceso consiste en crear una imagen con la nueva versi√≥n que queramos utilizar y cambiar la imagen asignada a la m√°quina virtual por la nueva.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/doc_images/icons/note.png" alt="Note" />
</td>
<td class="content">Las secciones utilizadas en este apartado se describen detalladamente en el apartado <em>Plataforma</em> de la gu√≠a <em>El WAT paso a paso</em>.</td>
</tr></table>
</div>
<div class="sect2">
<h3 id="_creaci√≥n_de_nueva_imagen_de_disco">3.1. Creaci√≥n de nueva imagen de disco</h3>
<div class="paragraph"><p>Debemos crear una nueva imagen de disco en el WAT con la versi√≥n de la imagen que queramos utilizar en lugar de la actual.</p></div>
<div class="paragraph"><p><strong>Es importante que creemos la imagen en el OSF asociado a la m√°quina virtual.</strong></p></div>
<div class="paragraph"><p>El proceso de creaci√≥n de una imagen de disco se puede encontrar de forma detallada en el apartado <em>Creaci√≥n de una imagen de disco</em> del manual.</p></div>
</div>
<div class="sect2">
<h3 id="_asignaci√≥n_de_nueva_imagen">3.2. Asignaci√≥n de nueva imagen</h3>
<div class="paragraph"><p>Hay varias formas de gestionar las im√°genes asociadas a las m√°quinas virtuales.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Teniendo asignado a la m√°quina virtual el tag <em>head</em>
</dt>
<dd>
<p>
Si la m√°quina virtual tiene asignado el tag <em>head</em> siempre tendr√° asociada la √∫ltima imagen creada del OSF, por lo que con crearla bastar√°.
</p>
</dd>
<dt class="hdlist1">
Teniendo asignado a la m√°quina virtual el tag <em>default</em>
</dt>
<dd>
<p>
Si la m√°quina virtual tiene asignado el tag <em>default</em> tendr√° asociada la imagen marcada como imagen por defecto en el OSF. Deberemos marcar la imagen que queramos como imagen por defecto si queremos que esta m√°quina virtual sea asociada a la nueva imagen.
</p>
</dd>
<dt class="hdlist1">
Teniendo asignado a la m√°quina virtual otro tag
</dt>
<dd>
<p>
Si en la m√°quina virtual tenemos asignado un tag identificativo de la imagen que ejecuta, deberemos cambiar este tag para seleccionar la nueva imagen en lugar de la actual.
</p>
</dd>
</dl></div>
<div class="sect3">
<h4 id="_cambio_de_tag_en_m√°quina_virtual">3.2.1. Cambio de tag en m√°quina virtual</h4>
<div class="paragraph"><p>Para cambiar de tag asociado a una m√°quina virtual hay que seguir los siguientes pasos:</p></div>
<div class="ulist"><ul>
<li>
<p>
Nos situaremos en la <em>secci√≥n Plataforma</em>. Esta es la secci√≥n activa por defecto tras iniciar sesi√≥n.
</p>
</li>
<li>
<p>
Accederemos al <em>apartado M√°quinas virtuales del men√∫</em>.
</p>
</li>
<li>
<p>
Escogemos la m√°quina virtual que queremos editar y hacemos click en su nombre para acceder a su vista detalle.
</p>
</li>
<li>
<p>
En la vista detalle, a la derecha del nombre de la m√°quina virtual, entre los botones de acci√≥n, hacemos click en el <em>bot√≥n de Edici√≥n</em>.
</p>
</li>
<li>
<p>
En el formulario de edici√≥n cambiamos el tag de imagen y seleccionamos la versi√≥n de la nueva imagen de disco creada o bien alguno de sus tags.
</p>
</li>
<li>
<p>
Hacemos click en <em>Actualizar</em>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Para comprobar que el cambio se ha hecho efectivo, observamos que en los atributos de la m√°quina virtual aparece el tag de imagen que hemos seleccionado y la imagen de disco correcta. Debe salir la √∫ltima que hemos creado.</p></div>
<div class="paragraph"><p>Si la m√°quina est√° corriendo, podemos ver los par√°metros de ejecuci√≥n en el panel de estado de ejecuci√≥n y comprobar que ah√≠ sigue saliendo la imagen antigua, ya que <em>el cambio de imagen no se puede hacer en caliente, har√° falta reiniciar la m√°quina virtual</em>.</p></div>
</div>
<div class="sect3">
<h4 id="_cambio_de_imagen_por_defecto">3.2.2. Cambio de imagen por defecto</h4>
<div class="paragraph"><p>Una imagen se puede establecer como imagen por defecto en varias pantallas.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Desde la vista detalle de la imagen
</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
Nos situaremos en la <em>secci√≥n Plataforma</em>. Esta es la secci√≥n activa por defecto tras iniciar sesi√≥n.
</p>
</li>
<li>
<p>
Accederemos al <em>apartado Im√°genes de disco del men√∫</em>.
</p>
</li>
<li>
<p>
Escogemos la imagen que queremos establecer como imagen por defecto y hacemos click en su nombre para acceder a su vista detalle.
</p>
</li>
<li>
<p>
En la vista detalle, a la derecha del nombre de la imagen, entre los botones de acci√≥n, hacemos click en el <em>bot√≥n de Edici√≥n</em>.
</p>
</li>
<li>
<p>
En el formulario de edici√≥n activamos la casilla de verificaci√≥n de <em>por defecto</em>.
</p>
</li>
<li>
<p>
Hacemos click en <em>Actualizar</em>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Para comprobar que el cambio se ha hecho efectivo, observamos que en los atributos de la imagen aparece un atributo "Por defecto" avis√°ndonos que esta es la imagen pro defecto de su OSF.</p></div>
<div class="paragraph"><p>Si ahora vamos a la vista detalle de la m√°quina virtual, observaremos que en sus atributos aparece la imagen de disco que acabamos de editar.</p></div>
<div class="paragraph"><p>Si la m√°quina est√° corriendo, como vimos con anterioridad, en los par√°metros de ejecuci√≥n a√∫n saldr√° la imagen anterior hasta que la reiniciemos.</p></div>
</div></div>
</dd>
<dt class="hdlist1">
Desde la vista detalle del OSF
</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
Nos situaremos en la <em>secci√≥n Plataforma</em>. Esta es la secci√≥n activa por defecto tras iniciar sesi√≥n.
</p>
</li>
<li>
<p>
Accederemos al <em>apartado OS Flavours del men√∫</em>.
</p>
</li>
<li>
<p>
Escogemos el OSF al que pertenece la imagen que queremos establecer como imagen por defecto y hacemos click en su nombre para acceder a su vista detalle.
</p>
</li>
<li>
<p>
A la derecha de la vista detalle del OSF hay un cuadro con las im√°genes asociadas al OSF. Una de las columnas de este listado son casillas de verificaci√≥n para establecer una imagen como imagen por defecto. Hacemos click en la casilla de verificaci√≥n de la imagen.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Para comprobar que el cambio se ha hecho efectivo, observamos que en la columna informativa de la lista de im√°genes de disco ha cambiado la imagen que tiene el icono que indica la imagen por defecto.</p></div>
<div class="paragraph"><p>Si ahora vamos a la vista detalle de la m√°quina virtual, observaremos que en sus atributos aparece la imagen de disco que acabamos de editar.</p></div>
<div class="paragraph"><p>Si la m√°quina est√° corriendo, como vimos con anterioridad, en los par√°metros de ejecuci√≥n a√∫n saldr√° la imagen anterior hasta que la reiniciemos.</p></div>
</div></div>
</dd>
</dl></div>
</div>
</div>
<div class="sect2">
<h3 id="_reiniciar_m√°quina_virtual">3.3. Reiniciar m√°quina virtual</h3>
<div class="paragraph"><p>Para que se haga efectivo el cambio de imagen, tendremos que parar y volver a arrancar la m√°quina.</p></div>
<div class="paragraph"><p>La parada de una m√°quina virtual se realiza de forma id√©ntica al arrancado. Podemos ver este proceso de forma detallada en el apartado <em>Arrancado de una m√°quina virtual</em> del manual.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_situaciones_de_bloqueo">4. Situaciones de bloqueo</h2>
<div class="sectionbody">
<div class="paragraph"><p>Hay diferentes situaciones en las que por un error de configuraci√≥n o un descuido, podemos perder alguna funcionalidad. A esto le llamaremos situaci√≥n de bloqueo.</p></div>
<div class="paragraph"><p>Veremos algunas de las situaciones que pueden darse, ya que puede haber m√°s, y c√≥mo solucionarlas.</p></div>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
Borrar el √∫nico administrador ya que no podr√≠amos gestionar el WAT puesto que para crear un administrador es necesario otro administrador.
</p>
</li>
<li>
<p>
Modificar los permisos de tal manera que no quede ning√∫n administrador que pueda gestionar los permisos.
</p>
</li>
<li>
<p>
Olvidar la contrase√±a del √∫nico administrador que pueda gestionar los permisos.
</p>
</li>
</ul></div>
</div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Soluci√≥n
</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Para recuperar las funcionalidades perdidas podremos acceder al WAT en un modo especial. El uso de este modo lo encontraremos en la gu√≠a Modo de recuperaci√≥n.</p></div>
</div></div>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_modo_de_recuperaci√≥n">5. Modo de recuperaci√≥n</h2>
<div class="sectionbody">
<div class="paragraph"><p>Debido a algun cambio de configuraci√≥n, de permisos o por el olvido de alguna contrase√±a, nos podemos ver en la situaci√≥n de p√©rdida de funcionalidades.</p></div>
<div class="paragraph"><p>Esta situaci√≥n se dar√° cuando no tengamos ning√∫n administrador con la capacidad de gestionar permisos, ya que en caso contrario los podremos recuperar.</p></div>
<div class="paragraph"><p>Para restaurar las funcionalidades perdidas, el WAT dispone de un administrador especial de recuperaci√≥n. Sus credenciales son:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Usuario: batman
Contrase√±a: to the rescue</code></pre>
</div></div>
<div class="paragraph"><p>Este administrador tiene las siguientes caracter√≠sticas:</p></div>
<div class="ulist"><ul>
<li>
<p>
No aparecer√° en la lista de administradores del sistema.
</p>
</li>
<li>
<p>
No se puede visualizar o alterar como otros administradores.
</p>
</li>
<li>
<p>
Tiene unos permisos predefinidos inalterables:
</p>
<div class="ulist"><ul>
<li>
<p>
Gesti√≥n de WAT: Configuraci√≥n, Administradores, Roles.
</p>
</li>
<li>
<p>
Gesti√≥n de QVD: Configuraci√≥n.
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>De esta forma, cuando nos veamos en una situaci√≥n de bloqueo, podremos entrar con el administrador de recuperaci√≥n y solucionarla, por ejemplo, con las siguientes acciones:</p></div>
<div class="ulist"><ul>
<li>
<p>
Cambiar la contrase√±a extraviada
</p>
</li>
<li>
<p>
Otorgar los permisos perdidos a un administrador
</p>
</li>
<li>
<p>
Crear un administrador que hayamos podido eliminar
</p>
</li>
<li>
<p>
&#8230;
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_gestionar_administradores_y_permisos">6. Gestionar Administradores y Permisos</h2>
<div class="sectionbody">
<div class="paragraph"><p>La gesti√≥n de administradores y permisos est√° enmarcada dentro de la secci√≥n general <strong>Gesti√≥n del WAT</strong>.</p></div>
<div class="paragraph"><p>Las dos secciones √∫tiles para esta gesti√≥n son:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Administradores</strong>: Creaci√≥n/Borrado de administradores as√≠ como asignaci√≥n de permisos.
</p>
</li>
<li>
<p>
<strong>Roles</strong>: Gesti√≥n de roles.
</p>
</li>
</ul></div>
<div class="paragraph"><p>QVD cuenta por defecto con algunos <strong>roles predefinidos</strong> que nos pueden ser √∫tiles si no necesitamos permisos muy espec√≠ficos.</p></div>
<div class="paragraph"><p>Es el caso del <strong>rol ‚ÄúRoot‚Äù</strong>, que contiene todos los ACLs del sistema. Es el rol asociado al usuario ‚Äúadmin‚Äù creado por defecto en WAT.</p></div>
<div class="sect2">
<h3 id="_gesti√≥n_de_administradores">6.1. Gesti√≥n de administradores</h3>
<div class="paragraph"><p>La acci√≥n de crear un administrador solamente nos permitir√° asignarle un nombre de usuario y una contrase√±a. Para que pueda acceder al WAT ser√° necesario asignarle al menos un rol.</p></div>
<div class="paragraph"><p>El proceso ser√°:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Crear el administrador con el bot√≥n ‚ÄúNuevo administrador‚Äù</strong> de la vista listado de administradores. Escogeremos una contrase√±a sencilla para que al administrador no le cueste mucho iniciar sesi√≥n, aunque le advertiremos que deber√° cambiarla por una contrase√±a personal.
</p>
</li>
<li>
<p>
<strong>Tras la creaci√≥n</strong>, el administrador aparecer√° en la lista. En la columna de informaci√≥n del administrador reci√©n creado aparecer√° un icono de advertencia al no tener ning√∫n rol asociado. <strong>Haremos click en el nombre</strong> para acceder a la vista detalle.
</p>
</li>
<li>
<p>
En la vista detalle encontraremos un bloque con los roles asignados. Aparecer√° vac√≠o.
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p><strong>Asignaremos los roles que consideremos necesarios</strong>. Veremos como aparecen en la lista de roles asignados.</p></div>
<div class="paragraph"><p>Adem√°s, tendremos como apoyo un √°rbol de ACLs que tiene asignados el administrador en cada momento. √âste √°rbol tiene dos modalidades que analizaremos en la gesti√≥n de roles.</p></div>
<div class="paragraph"><p>Observando como aparecen/desaparecen ACLs en el √°rbol al asignar/desasignar roles, veremos exactamente qu√© permisos estamos d√°ndole al administrador.</p></div>
</div></div>
</li>
</ul></div>
<div class="paragraph"><p>Para nuestros primeros administradores podemos utilizar los roles disponibles por defecto en el sistema.</p></div>
<div class="paragraph"><p><span class="yellow-background">TODO: Cuando est√©n definidos los roles predefinidos del sistema, explicar con ejemplos la creaci√≥n de algunos administradores √∫tiles.</span></p></div>
<div class="paragraph"><p>Cuando nos surja la necesidad de crear administradores con permisos m√°s espec√≠ficos, ser√° cuando necesitemos abordar la gesti√≥n de roles.</p></div>
</div>
<div class="sect2">
<h3 id="_gesti√≥n_de_roles">6.2. Gesti√≥n de roles</h3>
<div class="paragraph"><p>En la b√∫squeda de administradores con permisos personalizados, crearemos aquellos roles que necesitemos. Para facilitar nuestra labor, una buena estrategia ser√° crear roles reutilizables, buscando que tengan los ACLs comunes que queremos para un conjunto de administradores.</p></div>
<div class="paragraph"><p>Al igual que con los administradores, al crear un rol, se crear√° vac√≠o y tendremos que editarlo para asignarle ACLs.</p></div>
<div class="paragraph"><p>El proceso ser√°:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Crear el rol con el bot√≥n ‚ÄúNuevo rol‚Äù</strong> de la vista listado de roles. Escogeremos un nombre que tenga alguna relaci√≥n con los permisos que va a tener para que sea f√°cilmente entendible en el futuro.
</p>
<div class="openblock">
<div class="content">
<div class="literalblock">
<div class="content">
<pre><code>Por ejemplo: Provisionador de usuarios</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
<strong>Tras la creaci√≥n</strong>, el rol aparecer√° en la lista. En las columnas de recuento de ACLs y Roles heredados de cada rol, aparecer√° un 0. <strong>Haremos click en el nombre</strong> para acceder a la vista detalle.
</p>
</li>
<li>
<p>
En la vista detalle tenemos <strong>dos herramientas</strong> disponibles:
</p>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<strong>√Årbol de ACLs</strong>: Se mostrar√°n los ACLs del sistema en forma de √°rbol con casillas de verificaci√≥n. Seleccionaremos aquellos ACLs que queremos que el rol contenga.
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Las ramas, a su vez, tambi√©n disponen de casilla de verificaci√≥n para seleccionar/deseleccionar ramas enteras con un solo click.</p></div>
<div class="paragraph"><p>Seg√∫n nuestras preferencias, podemos representar el √°rbol en <strong>dos clasificaciones</strong> distintas:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Por secciones</strong>: Si deseamos agrupar los ACLs seg√∫n las secciones del WAT a las que afectan: usuarios, m√°quinas virtuales, nodos, administradores&#8230;
</p>
</li>
</ul></div>
<div class="paragraph"><p>√ötil si queremos crear un rol que otorgue permisos con mucha profundidad pero poca amplitud.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Por ejemplo, permisos totales en usuarios y m√°quinas virtuales.</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Por acciones</strong>: Si nos es m√°s c√≥modo agrupar los ACLs seg√∫n el tipo de acci√≥n que permiten: crear, eliminar, acceder a vista principal, filtrar&#8230;
</p>
</li>
</ul></div>
<div class="paragraph"><p>√ötil si queremos crear un rol que otorgue permisos con poca profundidad y mucha amplitud.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Por ejemplo, permisos de solo lectura en casi todas las secciones.</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
<strong>Herencia de roles</strong>: Se podr√°n heredar tantos roles como queramos, adoptando sus ACLs.
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Cuando heredemos un rol, observaremos como en el √°rbol cambia, activ√°ndose los nuevos ACLs.</p></div>
<div class="paragraph"><p>Junto a cada ACL que provenga de uno o varios roles heredados, aparecer√° un icono. Al pasar el rat√≥n sobre √©l nos aparecer√° informaci√≥n a cerca de qu√© roles procede.</p></div>
<div class="paragraph"><p>Se podr√°n heredar dos tipos de roles:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Roles normales</strong>: Son los roles creados a trav√©s del WAT. Ser√°n los que <strong>se muestran en la lista de roles</strong> y se pueden asignar a los administradores.
</p>
</li>
<li>
<p>
<strong>Roles internos</strong>: Estos roles son roles especiales que vienen en la instalaci√≥n de QVD y no pueden ser gestionados ni asignados a un administrador. <strong>No saldr√°n en la lista de roles</strong>.
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Estos roles solamente aparecen como roles heredables en la gesti√≥n de un rol.</p></div>
<div class="paragraph"><p>Est√°n pensados para facilitar la gesti√≥n de roles abstrayendo al administrador de los ACLs.</p></div>
<div class="paragraph"><p>Los nombres de los roles internos son descriptivos de los ACLs que poseen.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Por ejemplo: Users Creator, Images Operator, VMs Manager o Master.</code></pre>
</div></div>
<div class="paragraph"><p>No obstante hered√°ndolos en un rol y observando los cambios en el √°rbol de ACLs podemos observar los ACLs que nos aportar√°n.</p></div>
</div></div>
</li>
</ul></div>
<div class="paragraph"><p>Para conocer los roles, tanto internos como normales, que una instalaci√≥n de QVD incluye, ver Referencia de roles en el manual.</p></div>
<div class="paragraph"><p>Un inconveniente de la herencia es que si en el futuro <strong>cambian los ACLs de un rol</strong>, todos los que lo hereden sufrir√°n cambios con √©l. Por eso hay que utilizar esta t√©cnica con cuidado.</p></div>
<div class="paragraph"><p>Otro inconveniente son las futuras actualizaciones del WAT d√≥nde puedan aparecer <strong>nuevos ACLs</strong>. Para evitar esto heredaremos, en la medida de lo posible, los roles Internos para configurar nuestros roles. Estos roles, ser√°n actualizados con el WAT, conteniendo los nuevos ACLs de una forma coherente con su uso.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Por ejemplo: Si se a√±adie un nuevo campo en la vista de usuarios, el ACL que permita su visualizaci√≥n ser√° a√±adido el rol interno Users Reader. Los roles que hereden de este rol interno, se actualizar√°n y no perder√°n funcionalidad, evitando molestas revisiones de los roles en cada actualizaci√≥n.</code></pre>
</div></div>
</div></div>
</li>
</ul></div>
</div></div>
</li>
</ul></div>
<div class="paragraph"><p>Hay que tener cuidado con la gesti√≥n de administradores y permisos ya que si realizamos una acci√≥n equivocada, podr√≠amos perder funcionalidades e incluso el acceso al WAT. Ver la secci√≥n <em>Situaciones de bloqueo</em> en el manual.</p></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2015-02-03 13:40:16 CET
</div>
</div>
</body>
</html>
